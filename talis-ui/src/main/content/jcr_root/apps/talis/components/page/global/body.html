<sly data-sly-test="${!currentPage.template.hasStructureSupport}" data-sly-include="content.html"></sly>
<sly data-sly-test="${currentPage.template.hasStructureSupport}">
    <sly data-sly-use.templatedContainer="com.day.cq.wcm.foundation.TemplatedContainer"
        data-sly-repeat.child="${templatedContainer.structureResources}"
        data-sly-resource="${child.path @ resourceType=child.resourceType, decorationTagName='div'}"/>
</sly>
<div data-sly-resource="${'cloudservices' @ resourceType='cq/cloudserviceconfigs/components/servicecomponents'}" data-sly-unwrap></div>
<sly data-sly-include="footerlibs.html" />
<sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html" />

<div id="ce-es5-shim">
  <script type="text/javascript">
    if (window.customElements) {
      var ceShimContainer = document.querySelector('#ce-es5-shim');
      ceShimContainer.parentElement.removeChild(ceShimContainer);
    }

    window.addEventListener('WebComponentsReady', function() {
      console.log("Web Components Ready");
    });
  </script>
  <sly data-sly-call="${clientlib.js @ categories='webcomponentsjs'}"/>
</div>

<sly data-sly-call="${clientlib.all @ categories='talis'}"/>
